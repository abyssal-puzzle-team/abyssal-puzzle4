<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abyssal Puzzle - Node5</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --tertiary-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow-color: rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: linear-gradient(45deg, #0f0f23, #1a1a2e, #16213e, #0f3460);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* 3D åœºæ™¯å®¹å™¨ */
        .scene-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            perspective: 1000px;
            z-index: -1;
        }

        /* å…¨æ¯åœ°çƒ */
        .holographic-earth {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300px;
            height: 300px;
            transform: translate(-50%, -50%) rotateX(20deg);
            transform-style: preserve-3d;
        }

        .earth-core {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #4facfe, #00f2fe, #667eea, #764ba2, #4facfe);
            position: relative;
            animation: earthRotate 20s linear infinite;
            box-shadow: 
                0 0 50px rgba(79, 172, 254, 0.5),
                inset 0 0 50px rgba(255, 255, 255, 0.1);
        }

        .earth-core::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, transparent 30%, rgba(79, 172, 254, 0.1) 70%);
            border-radius: 50%;
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes earthRotate {
            0% { transform: rotateY(0deg) rotateZ(0deg); }
            100% { transform: rotateY(360deg) rotateZ(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }

        /* æ•°æ®è½¨é“ç¯ */
        .data-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 2px solid transparent;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, transparent, rgba(79, 172, 254, 0.3), transparent);
            background-clip: padding-box;
        }

        .ring-1 { 
            width: 400px; 
            height: 400px; 
            animation: ringRotate1 15s linear infinite;
            border-image: linear-gradient(45deg, #4facfe, #00f2fe) 1;
        }
        .ring-2 { 
            width: 500px; 
            height: 500px; 
            animation: ringRotate2 25s linear infinite reverse;
            border-image: linear-gradient(45deg, #667eea, #764ba2) 1;
        }
        .ring-3 { 
            width: 600px; 
            height: 600px; 
            animation: ringRotate3 35s linear infinite;
            border-image: linear-gradient(45deg, #f093fb, #f5576c) 1;
        }

        @keyframes ringRotate1 {
            0% { transform: translate(-50%, -50%) rotateZ(0deg) rotateX(60deg); }
            100% { transform: translate(-50%, -50%) rotateZ(360deg) rotateX(60deg); }
        }

        @keyframes ringRotate2 {
            0% { transform: translate(-50%, -50%) rotateZ(0deg) rotateY(45deg); }
            100% { transform: translate(-50%, -50%) rotateZ(360deg) rotateY(45deg); }
        }

        @keyframes ringRotate3 {
            0% { transform: translate(-50%, -50%) rotateZ(0deg) rotateX(-30deg); }
            100% { transform: translate(-50%, -50%) rotateZ(360deg) rotateX(-30deg); }
        }

        /* ç²’å­ç³»ç»Ÿ */
        .particle-system {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #4facfe, transparent);
            border-radius: 50%;
            animation: particleFloat 10s linear infinite;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) translateX(0px) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
                transform: scale(1);
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px) scale(0);
                opacity: 0;
            }
        }

        /* ä¸»å®¹å™¨ - ç»ç’ƒæ‹Ÿæ€è®¾è®¡ */
        .main-container {
            position: relative;
            z-index: 10;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
        }

        /* æ ‡é¢˜åŒºåŸŸ */
        .title-section {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            box-shadow: 0 8px 32px var(--shadow-color);
            transform: translateY(0);
            transition: all 0.3s ease;
        }

        .title-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px var(--shadow-color);
        }

        .main-title {
            font-family: 'Orbitron', monospace;
            font-size: 3rem;
            font-weight: 900;
            background: var(--tertiary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(79, 172, 254, 0.5);
        }

        /* å†…å®¹å¡ç‰‡ç½‘æ ¼ */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            width: 100%;
            margin: 2rem 0;
        }

        .content-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px var(--shadow-color);
            transform: translateZ(0);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .content-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .content-card:hover::before {
            left: 100%;
        }

        .content-card:hover {
            transform: translateY(-10px) rotateX(5deg);
            box-shadow: 0 20px 60px var(--shadow-color);
            border-color: rgba(79, 172, 254, 0.5);
        }

        .card-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .card-content {
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
        }

        /* å‚èµ›é€‰æ‰‹åˆ—è¡¨ */
        .contestant-grid {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }

        .contestant-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(79, 172, 254, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .contestant-item::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--tertiary-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .contestant-item:hover::after {
            opacity: 0.1;
        }

        .contestant-item:hover {
            transform: scale(1.02);
            border-color: rgba(79, 172, 254, 0.8);
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.2);
        }

        .contestant-message {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: #ffffff;
        }

        .contestant-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: rgba(79, 172, 254, 0.8);
            font-weight: 600;
        }

        /* ä»£ç å— */
        .code-container {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid rgba(79, 172, 254, 0.5);
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            font-family: 'Orbitron', monospace;
            position: relative;
            overflow: hidden;
        }

        .code-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: var(--tertiary-gradient);
            animation: codeScan 3s linear infinite;
        }

        @keyframes codeScan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .code-text {
            color: #4facfe;
            line-height: 1.8;
            text-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }

        /* è¾“å…¥æ§åˆ¶å° */
        .input-console {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 2px solid var(--glass-border);
            border-radius: 25px;
            padding: 2rem;
            min-width: 500px;
            box-shadow: 0 15px 50px var(--shadow-color);
            z-index: 100;
        }

        .console-header {
            text-align: center;
            margin-bottom: 1rem;
        }

        .console-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            background: var(--secondary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .cooldown-indicator {
            margin: 1rem 0;
            text-align: center;
            color: #f5576c;
            font-weight: 600;
        }

        .input-group {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .key-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(79, 172, 254, 0.3);
            border-radius: 15px;
            padding: 1rem 1.5rem;
            color: #ffffff;
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
        }

        .key-input:focus {
            border-color: #4facfe;
            box-shadow: 0 0 20px rgba(79, 172, 254, 0.4);
            background: rgba(255, 255, 255, 0.15);
        }

        .submit-button {
            background: var(--tertiary-gradient);
            border: none;
            border-radius: 15px;
            padding: 1rem 2rem;
            color: #ffffff;
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
        }

        .submit-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(79, 172, 254, 0.5);
        }

        .submit-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .message-display {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            min-height: 20px;
            transition: all 0.3s ease;
        }

        .message-success {
            background: rgba(79, 172, 254, 0.2);
            border: 1px solid #4facfe;
            color: #4facfe;
        }

        .message-error {
            background: rgba(245, 87, 108, 0.2);
            border: 1px solid #f5576c;
            color: #f5576c;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2rem;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .input-console {
                min-width: 90%;
                left: 5%;
                transform: none;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .key-input {
                width: 100%;
            }
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(79, 172, 254, 0.3);
            border-radius: 50%;
            border-top-color: #4facfe;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* æ•°æ®å¯è§†åŒ–å…ƒç´  */
        .data-viz {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(79, 172, 254, 0.3), transparent);
            animation: dataFloat 8s ease-in-out infinite;
        }

        @keyframes dataFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        /* å…¨æ¯æ•ˆæœ */
        .hologram-effect {
            position: relative;
        }

        .hologram-effect::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(79, 172, 254, 0.1) 50%,
                transparent 100%
            );
            animation: hologramScan 2s linear infinite;
            pointer-events: none;
        }

        @keyframes hologramScan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
    </style>
</head>
<body>
    <!-- 3D åœºæ™¯ -->
    <div class="scene-container">
        <!-- å…¨æ¯åœ°çƒ -->
        <div class="holographic-earth">
            <div class="earth-core"></div>
            <div class="data-ring ring-1"></div>
            <div class="data-ring ring-2"></div>
            <div class="data-ring ring-3"></div>
        </div>
    </div>

    <!-- ç²’å­ç³»ç»Ÿ -->
    <div class="particle-system" id="particleSystem"></div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <div class="title-section hologram-effect">
            <h1 class="main-title">ä»Šæ—¥æ–°é—»é€Ÿè§ˆ</h1>
        </div>

        <!-- å†…å®¹ç½‘æ ¼ -->
        <div class="content-grid">
            <!-- æ–°é—»å¡ç‰‡ -->
            <div class="content-card">
                <h2 class="card-title">èµ›äº‹å…¬å‘Š</h2>
                <div class="card-content">
                    <p>â€¢ ç¬¬X(è¢«é»‘ç¬”æ¶‚æŠ¹)å±Šç”µå­éŸ³ä¹é©¬æ‹‰æ¾ä»Šæ—¥æ­£å¼å¼€èµ›!æ¯”èµ›åœ°ç‚¹ä¸º"World of Memories"</p>
                    <p>â€¢ ä¸‰å¤©åå°é•‡æ‰«å¢“è¸é’æ´»åŠ¨å°†ä¸¾åŠ</p>
                    <p>â€¢ å„é•‡é•‡é•¿å…±åŒå‡ºå¸­é©¬æ‹‰æ¾å¹¶è‡´è¯â€”â€”"éŸ³æ¸¸å¥å„¿å±•é£é‡‡,ç”²è¾°ä¹‹å¹´å¯æ–°ç¯‡"</p>
                </div>
            </div>

            <!-- å†³èµ›ä¸“æ  -->
            <div class="content-card">
                <h2 class="card-title">é©¬æ‹‰æ¾å†³èµ›ä¸“æ </h2>
                <div class="card-content">
                    <p>æ¥è‡ªä¸–ç•Œå„åœ°çš„é€‰æ‰‹ç»è¿‡è§’é€å‰©ä½™äº”ä½é€‰æ‰‹è¿›è¡Œå†³èµ›,åå•å¦‚ä¸‹:</p>
                    <p><strong>ç¬¬X(è¢«é»‘ç¬”æ¶‚æŠ¹)å±ŠéŸ³ä¹ç”µå­é©¬æ‹‰æ¾å†³èµ›å‚èµ›åå•</strong></p>
                    <p>åºå· ç•™è¨€ åŠ æˆğŸ”¼ ACCâ–¶ï¸</p>
                    
                    <div class="contestant-grid">
                        <div class="contestant-item">
                            <div class="contestant-message">â€¢ ? ç‰‡å´ã ã‘ã®æ­£ç¾©,æ©«åˆ‡ã‚‹å½±ã«ç«‹ã¡,ä¸è‡ªç”±é¸ã³ç¶šã‘ã¦ãŸ.</div>
                            <div class="contestant-stats">
                                <span>åŠ æˆ: -1.83%</span>
                                <span>ACC: 78.18%</span>
                            </div>
                        </div>
                        <div class="contestant-item">
                            <div class="contestant-message">â€¢ ? Under pressure I've been going off the deep end.</div>
                            <div class="contestant-stats">
                                <span>åŠ æˆ: -3.47%</span>
                                <span>ACC: 62.22%</span>
                            </div>
                        </div>
                        <div class="contestant-item">
                            <div class="contestant-message">â€¢ ? Hey yo one for the blood two for the life.</div>
                            <div class="contestant-stats">
                                <span>åŠ æˆ: 64.2%</span>
                                <span>ACC: 149.49%</span>
                            </div>
                        </div>
                        <div class="contestant-item">
                            <div class="contestant-message">â€¢ ? å¥¹å¹¶æ²¡æœ‰ç•™è¨€,åŒæ—¶å…¨æ›²ç»“æŸ.</div>
                            <div class="contestant-stats">
                                <span>åŠ æˆ: -9.19%</span>
                                <span>ACC: 75.02%</span>
                            </div>
                        </div>
                        <div class="contestant-item">
                            <div class="contestant-message">â€¢ ? å…¨ã¦å£Šã—ã¦.</div>
                            <div class="contestant-stats">
                                <span>åŠ æˆ: 56.13%</span>
                                <span>ACC: 106.35%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- è§‚ä¼—ç•™è¨€ -->
            <div class="content-card">
                <h2 class="card-title">è§‚ä¼—ç•™è¨€</h2>
                <div class="card-content">
                    <p>"ç¬¬X(è¢«é»‘ç¬”æ¶‚æŠ¹)å±Šè¿ç»“æˆçš„ä¸»é¢˜å…ƒç´ æ˜¯ä»€ä¹ˆå‘¢?"</p>
                    <p>"å¬è¯´è¿™æ¬¡å†³èµ›éšè—å¤§å¥–å°†ä¼šæ˜¯???æ–°å“é¦–ç§€,åˆ°åº•ä¼šæ˜¯ä»€ä¹ˆå‘¢?å¥½æœŸå¾…å•Š..."</p>
                </div>
            </div>

            <!-- ç°åœºæ´»åŠ¨A -->
            <div class="content-card">
                <h2 class="card-title">ç°åœºæ´»åŠ¨A</h2>
                <div class="card-content">
                    <p>ç¥ç§˜è¯„å§”å³å°†ç™»åœº!ä¸»é¢˜å…ƒç´ æœå¯»å¯»æ‰¾è¯„å§”èº«ä»½æ´»åŠ¨ç°åœ¨å¼€å§‹!</p>
                    <p>è¯„å§”å½“æ—¶æ‰€åœ¨æ—¶ç©ºåŒºåŸŸ:â‘ ??.1+1-1+1-1â€¦:/â‘¡55.6/â‘¢2.4</p>
                    <p>æ¯”èµ›æ£€æŸ¥ç‚¹å…¨ç»è¿‡æ—¶çš„è®¡ç®—å…¬å¼:</p>
                    <div class="code-container">
                        <div class="code-text">
...(æ¨¡ç³Šä¸æ¸…)<br>
cout<<"è¯·è¾“å…¥å„ä¸ªæ£€æŸ¥ç‚¹æ•°é‡";<br>
cin>>â‘ >>â‘¡>>â‘¢;<br>
â€¦(æ¨¡ç³Šä¸æ¸…)<br>
int P = 4 * floor(sqrt(â‘ )) + 4 * floor(sqrt(â‘¡)) + 2 * floor(sqrt(â‘¢)) ;<br>
P--;<br>
...(æ¨¡ç³Šä¸æ¸…)
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç°åœºæ´»åŠ¨B -->
            <div class="content-card">
                <h2 class="card-title">ç°åœºæ´»åŠ¨B</h2>
                <div class="card-content">
                    <p>å†³èµ›éšè—å¤§å¥–"P"è°±é¢åˆ›ä½œè€…è—åŒ¿åœ¨è§‚ä¼—ä¸­,ç¬¬ä¸€ä¸ªæ‰¾åˆ°å…¶"ç¬”å"çš„è§‚ä¼—å°†ä¼šè·å¾—ç¥ç§˜ç¤¼å“!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- è¾“å…¥æ§åˆ¶å° -->
    <div class="input-console">
        <div class="console-header">
            <div class="console-title">QUANTUM ACCESS TERMINAL</div>
        </div>
        <div class="cooldown-indicator" id="cooldownDisplay"></div>
        <div class="input-group">
            <input type="text" class="key-input" id="keyInput" placeholder="è¾“å…¥é‡å­å¯†é’¥..." maxlength="50">
            <button class="submit-button" id="submitBtn">ä¼ è¾“</button>
        </div>
        <div class="message-display" id="messageDisplay"></div>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let isSubmitting = false;
        let cooldownTimer = null;
        let cooldownRemaining = 0;
        
        // APIé…ç½®
        const API_BASE = 'http://localhost:3000';
        const NODE_ID = 'node5';
        
        // DOMå…ƒç´ 
        const keyInput = document.getElementById('keyInput');
        const submitBtn = document.getElementById('submitBtn');
        const messageDisplay = document.getElementById('messageDisplay');
        const cooldownDisplay = document.getElementById('cooldownDisplay');
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeParticleSystem();
            initializeAnimations();
            checkCooldownStatus();
            setupEventListeners();
            createDataVisualization();
        });
        
        // ç²’å­ç³»ç»Ÿåˆå§‹åŒ–
        function initializeParticleSystem() {
            const particleSystem = document.getElementById('particleSystem');
            
            function createParticle() {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 5) + 's';
                particleSystem.appendChild(particle);
                
                // ç§»é™¤ç²’å­
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 15000);
            }
            
            // å®šæœŸåˆ›å»ºç²’å­
            setInterval(createParticle, 300);
        }
        
        // æ•°æ®å¯è§†åŒ–
        function createDataVisualization() {
            const container = document.querySelector('.scene-container');
            const dataValues = [78, 62, 149, 75, 106];
            
            dataValues.forEach((value, index) => {
                const viz = document.createElement('div');
                viz.className = 'data-viz';
                viz.style.left = Math.random() * 80 + 10 + '%';
                viz.style.top = Math.random() * 80 + 10 + '%';
                viz.style.animationDelay = index * 0.5 + 's';
                container.appendChild(viz);
            });
        }
        
        // åŠ¨ç”»åˆå§‹åŒ–
        function initializeAnimations() {
            // å¡ç‰‡å…¥åœºåŠ¨ç”»
            anime({
                targets: '.content-card',
                translateY: [50, 0],
                opacity: [0, 1],
                duration: 1000,
                delay: anime.stagger(200),
                easing: 'easeOutQuart'
            });
            
            // æ ‡é¢˜åŠ¨ç”»
            anime({
                targets: '.main-title',
                scale: [0.8, 1],
                opacity: [0, 1],
                duration: 1500,
                easing: 'easeOutElastic(1, .8)'
            });
            
            // è¾“å…¥æ§åˆ¶å°åŠ¨ç”»
            anime({
                targets: '.input-console',
                translateY: [100, 0],
                opacity: [0, 1],
                duration: 1000,
                delay: 1000,
                easing: 'easeOutQuart'
            });
            
            // å‚èµ›é€‰æ‰‹åŠ¨ç”»
            anime({
                targets: '.contestant-item',
                translateX: [-30, 0],
                opacity: [0, 1],
                duration: 800,
                delay: anime.stagger(100, {start: 1500}),
                easing: 'easeOutQuart'
            });
        }
        
        // äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            submitBtn.addEventListener('click', handleSubmit);
            keyInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !submitBtn.disabled) {
                    handleSubmit();
                }
            });
            
            // è¾“å…¥æ¡†èšç„¦æ•ˆæœ
            keyInput.addEventListener('focus', function() {
                createInputEffect();
            });
        }
        
        // è¾“å…¥æ•ˆæœ
        function createInputEffect() {
            anime({
                targets: '.input-console',
                scale: [1, 1.02, 1],
                boxShadow: [
                    '0 15px 50px rgba(0, 0, 0, 0.3)',
                    '0 20px 60px rgba(79, 172, 254, 0.4)',
                    '0 15px 50px rgba(0, 0, 0, 0.3)'
                ],
                duration: 600,
                easing: 'easeInOutSine'
            });
        }
        
        // æ£€æŸ¥å†·å´çŠ¶æ€
        async function checkCooldownStatus() {
            try {
                const response = await fetch(`${API_BASE}/cooldown-status`);
                const data = await response.json();
                
                if (data.cooldownRemaining > 0) {
                    startCooldown(data.cooldownRemaining);
                } else {
                    updateCooldownDisplay(0);
                }
            } catch (error) {
                console.error('æ£€æŸ¥å†·å´çŠ¶æ€å¤±è´¥:', error);
                updateCooldownDisplay(0);
            }
        }
        
        // å¤„ç†æäº¤
        async function handleSubmit() {
            if (isSubmitting || cooldownRemaining > 0) return;
            
            const key = keyInput.value.trim();
            if (!key) {
                showMessage('è¯·è¾“å…¥é‡å­å¯†é’¥', 'error');
                return;
            }
            
            isSubmitting = true;
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading-spinner"></span> ä¼ è¾“ä¸­...';
            
            // æäº¤åŠ¨ç”»
            createSubmitEffect();
            
            try {
                const response = await fetch(`${API_BASE}/check-key`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        nodeId: NODE_ID,
                        key: key
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showMessage(data.message, 'success');
                    keyInput.value = '';
                    
                    // æˆåŠŸæ•ˆæœ
                    createSuccessEffect();
                    
                    if (data.metaStarted) {
                        createMetaStartEffect();
                    }
                    
                    if (data.remainingSeconds) {
                        showMessage(`${data.message} å‰©ä½™æ—¶é—´: ${data.remainingSeconds}ç§’`, 'success');
                    }
                } else {
                    showMessage(data.message, 'error');
                    
                    if (data.cooldown) {
                        startCooldown(data.cooldown);
                        createCooldownEffect();
                    }
                }
            } catch (error) {
                console.error('æäº¤å¤±è´¥:', error);
                showMessage('é‡å­ä¼ è¾“å¤±è´¥ï¼Œè¯·é‡è¯•', 'error');
            } finally {
                isSubmitting = false;
                if (cooldownRemaining === 0) {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'ä¼ è¾“';
                }
            }
        }
        
        // å¼€å§‹å†·å´
        function startCooldown(seconds) {
            cooldownRemaining = seconds;
            submitBtn.disabled = true;
            
            if (cooldownTimer) {
                clearInterval(cooldownTimer);
            }
            
            cooldownTimer = setInterval(() => {
                cooldownRemaining--;
                updateCooldownDisplay(cooldownRemaining);
                
                if (cooldownRemaining <= 0) {
                    clearInterval(cooldownTimer);
                    cooldownTimer = null;
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'ä¼ è¾“';
                }
            }, 1000);
        }
        
        // æ›´æ–°å†·å´æ˜¾ç¤º
        function updateCooldownDisplay(seconds) {
            if (seconds > 0) {
                cooldownDisplay.textContent = `é‡å­å†·å´ä¸­: ${seconds}ç§’`;
                cooldownDisplay.style.display = 'block';
            } else {
                cooldownDisplay.textContent = '';
                cooldownDisplay.style.display = 'none';
            }
        }
        
        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(message, type) {
            messageDisplay.textContent = message;
            messageDisplay.className = `message-display message-${type}`;
            
            anime({
                targets: messageDisplay,
                scale: [0.8, 1],
                opacity: [0, 1],
                duration: 300,
                easing: 'easeOutBack'
            });
        }
        
        // æäº¤æ•ˆæœ
        function createSubmitEffect() {
            anime({
                targets: '.holographic-earth',
                scale: [1, 1.1, 1],
                duration: 1000,
                easing: 'easeInOutSine'
            });
        }
        
        // æˆåŠŸæ•ˆæœ
        function createSuccessEffect() {
            // å…¨å±é—ªå…‰
            const flash = document.createElement('div');
            flash.style.position = 'fixed';
            flash.style.top = '0';
            flash.style.left = '0';
            flash.style.width = '100%';
            flash.style.height = '100%';
            flash.style.background = 'radial-gradient(circle, rgba(79, 172, 254, 0.3), transparent)';
            flash.style.zIndex = '9999';
            flash.style.opacity = '0';
            flash.style.pointerEvents = 'none';
            document.body.appendChild(flash);
            
            anime({
                targets: flash,
                opacity: [0, 1, 0],
                duration: 1000,
                easing: 'easeInOutSine',
                complete: function() {
                    if (flash.parentNode) {
                        flash.parentNode.removeChild(flash);
                    }
                }
            });
            
            // åœ°çƒå‘å…‰
            anime({
                targets: '.earth-core',
                boxShadow: [
                    '0 0 50px rgba(79, 172, 254, 0.5), inset 0 0 50px rgba(255, 255, 255, 0.1)',
                    '0 0 100px rgba(79, 172, 254, 1), inset 0 0 100px rgba(255, 255, 255, 0.3)',
                    '0 0 50px rgba(79, 172, 254, 0.5), inset 0 0 50px rgba(255, 255, 255, 0.1)'
                ],
                duration: 2000,
                easing: 'easeInOutSine'
            });
        }
        
        // å†·å´æ•ˆæœ
        function createCooldownEffect() {
            anime({
                targets: '.input-console',
                borderColor: ['rgba(255, 255, 255, 0.2)', 'rgba(245, 87, 108, 0.8)', 'rgba(255, 255, 255, 0.2)'],
                duration: 1000,
                easing: 'easeInOutSine'
            });
        }
        
        // Metaå¯åŠ¨æ•ˆæœ
        function createMetaStartEffect() {
            // åˆ›å»ºèƒ½é‡æ³¢
            for (let i = 0; i < 5; i++) {
                const wave = document.createElement('div');
                wave.style.position = 'fixed';
                wave.style.top = '50%';
                wave.style.left = '50%';
                wave.style.width = '100px';
                wave.style.height = '100px';
                wave.style.border = '2px solid rgba(79, 172, 254, 0.8)';
                wave.style.borderRadius = '50%';
                wave.style.transform = 'translate(-50%, -50%)';
                wave.style.pointerEvents = 'none';
                wave.style.zIndex = '9998';
                document.body.appendChild(wave);
                
                anime({
                    targets: wave,
                    scale: [0, 10],
                    opacity: [1, 0],
                    duration: 2000,
                    delay: i * 200,
                    easing: 'easeOutQuart',
                    complete: function() {
                        if (wave.parentNode) {
                            wave.parentNode.removeChild(wave);
                        }
                    }
                });
            }
        }
        
        // çª—å£è°ƒæ•´
        window.addEventListener('resize', function() {
            // é‡æ–°è®¡ç®—ç²’å­ä½ç½®
            const particles = document.querySelectorAll('.particle');
            particles.forEach(particle => {
                particle.style.left = Math.random() * 100 + '%';
            });
        });
    </script>
</body>
</html>

